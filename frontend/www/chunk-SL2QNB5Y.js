import{a as xe,b as Se}from"./chunk-HI7SONCK.js";import{a as he}from"./chunk-XPOQZT2W.js";import{a as Be}from"./chunk-SWOL7D6U.js";import{a as we,b as fe}from"./chunk-YVEAZIJE.js";import{F as de,H as Ce,P as _e,T as me,W as pe,a as ae,b as se,k as re,m as le,o as ge,q as ce,u as ue}from"./chunk-BXN76OUI.js";import{Ba as V,Cb as q,E as l,F as f,Gb as z,H as P,Kb as G,L as w,Lb as K,P as C,Pa as R,Q as o,Qa as I,R as a,S,Sb as Q,Ua as L,W as E,X as x,Xb as Y,Y as r,Yb as J,ac as X,bc as Z,cc as $,dc as ee,fa as s,ga as b,gc as te,ha as y,hc as ne,ia as T,ka as _,la as m,lc as ie,ma as p,mb as W,nc as oe,pa as v,qb as A,ra as M,rb as F,sb as N,tb as U,va as D,vb as j,w as c,wa as k,x as u,ya as O,yb as H}from"./chunk-TEVF6OOM.js";import"./chunk-5HJQGQPL.js";import"./chunk-7KGURMOZ.js";import"./chunk-7NBBWGH4.js";import"./chunk-MYTP3L75.js";import"./chunk-HDBTADGC.js";import"./chunk-YSN7XVTD.js";import"./chunk-R5HL6L5F.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-F5TKO3NK.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{e as h}from"./chunk-JHI3MBHO.js";function Me(g,d){if(g&1){let n=E();o(0,"ion-item")(1,"ion-label",24),s(2,"\uD604\uC7AC \uD658\uC728 (1\uC5D4 = ? \uC6D0)"),a(),o(3,"ion-input",25),p("ngModelChange",function(e){c(n);let i=r(2);return m(i.manualExchangeRate,e)||(i.manualExchangeRate=e),u(e)}),a()()}if(g&2){let n=r(2);l(3),_("ngModel",n.manualExchangeRate)}}function Pe(g,d){if(g&1&&(o(0,"ion-item")(1,"ion-label")(2,"h3"),s(3,"\uB9C8\uC9C0\uB9C9 \uC5C5\uB370\uC774\uD2B8"),a(),o(4,"p"),s(5),v(6,"date"),a()()()),g&2){let n=r(2);l(5),b(M(6,1,n.settings.exchangeRateSettings.lastUpdated,"medium"))}}function Te(g,d){if(g&1&&(o(0,"ion-select-option",26),s(1),a()),g&2){let n=d.$implicit;C("value",n.code),l(),T(" ",n.flag," ",n.name," ")}}function De(g,d){if(g&1&&(o(0,"ion-select-option",26),s(1),a()),g&2){let n=d.$implicit,t=r(2);C("value",n.code),l(),y(" ",t.getLanguageName(n.code)," ")}}function ke(g,d){if(g&1&&(o(0,"ion-select-option",26),s(1),a()),g&2){let n=d.$implicit,t=r(2);C("value",n.code),l(),y(" ",t.getLanguageName(n.code)," ")}}function Oe(g,d){if(g&1&&(o(0,"ion-select-option",26),s(1),a()),g&2){let n=d.$implicit;C("value",n.value),l(),y(" ",n.label," ")}}function Ve(g,d){if(g&1){let n=E();o(0,"ion-item")(1,"ion-label"),s(2,"\uBC31\uC5C5 \uC8FC\uAE30"),a(),o(3,"ion-select",22),p("ngModelChange",function(e){c(n);let i=r(2);return m(i.settings.backupSettings.backupFrequency,e)||(i.settings.backupSettings.backupFrequency=e),u(e)}),w(4,Oe,2,2,"ion-select-option",13),a()()}if(g&2){let n=r(2);l(3),_("ngModel",n.settings.backupSettings.backupFrequency),l(),C("ngForOf",n.backupFrequencyOptions)}}function Re(g,d){if(g&1&&(o(0,"ion-item")(1,"ion-label")(2,"h3"),s(3,"\uB9C8\uC9C0\uB9C9 \uBC31\uC5C5"),a(),o(4,"p"),s(5),v(6,"date"),a()()()),g&2){let n=r(2);l(5),b(M(6,1,n.settings.backupSettings.lastBackupDate,"medium"))}}function Ie(g,d){if(g&1){let n=E();o(0,"div",6)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),S(4,"ion-icon",7),s(5," \uD658\uC728 \uC124\uC815 "),a()(),o(6,"ion-card-content")(7,"ion-list")(8,"ion-item")(9,"ion-label")(10,"h3"),s(11,"\uC218\uB3D9 \uD658\uC728 \uC124\uC815"),a(),o(12,"p"),s(13,"\uC790\uB3D9 \uD658\uC728 \uB300\uC2E0 \uC218\uB3D9\uC73C\uB85C \uC124\uC815\uD55C \uD658\uC728 \uC0AC\uC6A9"),a()(),o(14,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.exchangeRateSettings.useManualRate,e)||(i.settings.exchangeRateSettings.useManualRate=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.onExchangeRateToggle())}),a()(),w(15,Me,4,1,"ion-item",9),o(16,"ion-item")(17,"ion-label")(18,"h3"),s(19,"\uC790\uB3D9 \uD658\uC728 \uC5C5\uB370\uC774\uD2B8"),a(),o(20,"p"),s(21,"\uD658\uC728 \uC815\uBCF4\uB97C \uC790\uB3D9\uC73C\uB85C \uC5C5\uB370\uC774\uD2B8"),a()(),o(22,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.exchangeRateSettings.autoUpdateEnabled,e)||(i.settings.exchangeRateSettings.autoUpdateEnabled=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateExchangeRateSettings())}),a()(),w(23,Pe,7,4,"ion-item",9),a()()(),o(24,"ion-card")(25,"ion-card-header")(26,"ion-card-title"),S(27,"ion-icon",10),s(28," \uC5B8\uC5B4 \uC124\uC815 "),a()(),o(29,"ion-card-content")(30,"ion-list")(31,"ion-item"),S(32,"ion-icon",11),o(33,"ion-label"),s(34,"\uC571 \uC5B8\uC5B4"),a(),o(35,"ion-select",12),p("ngModelChange",function(e){c(n);let i=r();return m(i.currentLanguage,e)||(i.currentLanguage=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.onLanguageChange())}),w(36,Te,2,3,"ion-select-option",13),a()()()()(),o(37,"ion-card")(38,"ion-card-header")(39,"ion-card-title"),S(40,"ion-icon",14),s(41," \uC811\uADFC\uC131 \uC124\uC815 "),a()(),o(42,"ion-card-content")(43,"ion-list")(44,"ion-item",15),S(45,"ion-icon",16),o(46,"ion-label")(47,"h3"),s(48,"\uC811\uADFC\uC131 \uC635\uC158"),a(),o(49,"p"),s(50,"\uAE00\uC790 \uD06C\uAE30, \uACE0\uB300\uBE44 \uBAA8\uB4DC, \uC2A4\uD06C\uB9B0 \uB9AC\uB354 \uC9C0\uC6D0"),a()(),S(51,"ion-icon",17),a()()()(),o(52,"ion-card")(53,"ion-card-header")(54,"ion-card-title"),S(55,"ion-icon",10),s(56," \uBC88\uC5ED \uC124\uC815 "),a()(),o(57,"ion-card-content")(58,"ion-list")(59,"ion-item")(60,"ion-label")(61,"h3"),s(62,"\uC790\uB3D9 \uBC88\uC5ED"),a(),o(63,"p"),s(64,"\uC0C1\uD488\uBA85\uC744 \uC790\uB3D9\uC73C\uB85C \uBC88\uC5ED"),a()(),o(65,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.translationSettings.autoTranslateEnabled,e)||(i.settings.translationSettings.autoTranslateEnabled=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateTranslationSettings())}),a()(),o(66,"ion-item")(67,"ion-label"),s(68,"\uC6D0\uBCF8 \uC5B8\uC5B4"),a(),o(69,"ion-select",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.translationSettings.sourceLanguage,e)||(i.settings.translationSettings.sourceLanguage=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateTranslationSettings())}),w(70,De,2,2,"ion-select-option",13),a()(),o(71,"ion-item")(72,"ion-label"),s(73,"\uBC88\uC5ED \uC5B8\uC5B4"),a(),o(74,"ion-select",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.translationSettings.targetLanguage,e)||(i.settings.translationSettings.targetLanguage=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateTranslationSettings())}),w(75,ke,2,2,"ion-select-option",13),a()(),o(76,"ion-item")(77,"ion-label"),s(78,"\uBC88\uC5ED \uC11C\uBE44\uC2A4"),a(),o(79,"ion-select",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.translationSettings.translationProvider,e)||(i.settings.translationSettings.translationProvider=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateTranslationSettings())}),o(80,"ion-select-option",18),s(81,"Google \uBC88\uC5ED"),a(),o(82,"ion-select-option",19),s(83,"\uC218\uB3D9 \uBC88\uC5ED"),a()()()()()(),o(84,"ion-card")(85,"ion-card-header")(86,"ion-card-title"),S(87,"ion-icon",20),s(88," \uC54C\uB9BC \uC124\uC815 "),a()(),o(89,"ion-card-content")(90,"ion-list")(91,"ion-item")(92,"ion-label")(93,"h3"),s(94,"\uD478\uC2DC \uC54C\uB9BC"),a(),o(95,"p"),s(96,"\uC571 \uC54C\uB9BC \uD5C8\uC6A9"),a()(),o(97,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.notificationSettings.pushNotificationsEnabled,e)||(i.settings.notificationSettings.pushNotificationsEnabled=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateNotificationSettings())}),a()(),o(98,"ion-item")(99,"ion-label")(100,"h3"),s(101,"\uC601\uC218\uC99D \uCC98\uB9AC \uC54C\uB9BC"),a(),o(102,"p"),s(103,"\uC601\uC218\uC99D \uCC98\uB9AC \uC644\uB8CC \uC2DC \uC54C\uB9BC"),a()(),o(104,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.notificationSettings.receiptProcessingNotifications,e)||(i.settings.notificationSettings.receiptProcessingNotifications=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateNotificationSettings())}),a()(),o(105,"ion-item")(106,"ion-label")(107,"h3"),s(108,"\uC608\uC0B0 \uC54C\uB9BC"),a(),o(109,"p"),s(110,"\uC608\uC0B0 \uCD08\uACFC \uC2DC \uC54C\uB9BC"),a()(),o(111,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.notificationSettings.budgetAlerts,e)||(i.settings.notificationSettings.budgetAlerts=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateNotificationSettings())}),a()(),o(112,"ion-item")(113,"ion-label")(114,"h3"),s(115,"\uD658\uC728 \uC5C5\uB370\uC774\uD2B8 \uC54C\uB9BC"),a(),o(116,"p"),s(117,"\uD658\uC728 \uBCC0\uB3D9 \uC2DC \uC54C\uB9BC"),a()(),o(118,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.notificationSettings.exchangeRateUpdates,e)||(i.settings.notificationSettings.exchangeRateUpdates=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateNotificationSettings())}),a()(),o(119,"ion-item")(120,"ion-label")(121,"h3"),s(122,"\uC8FC\uAC04 \uB9AC\uD3EC\uD2B8"),a(),o(123,"p"),s(124,"\uC8FC\uAC04 \uC9C0\uCD9C \uB9AC\uD3EC\uD2B8 \uC54C\uB9BC"),a()(),o(125,"ion-toggle",8),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.notificationSettings.weeklyReports,e)||(i.settings.notificationSettings.weeklyReports=e),u(e)}),x("ionChange",function(){c(n);let e=r();return u(e.updateNotificationSettings())}),a()()()()(),o(126,"ion-card")(127,"ion-card-header")(128,"ion-card-title"),S(129,"ion-icon",21),s(130," \uBC31\uC5C5 \uBC0F \uBCF5\uC6D0 "),a()(),o(131,"ion-card-content")(132,"ion-list")(133,"ion-item")(134,"ion-label")(135,"h3"),s(136,"\uC790\uB3D9 \uBC31\uC5C5"),a(),o(137,"p"),s(138,"\uC815\uAE30\uC801\uC73C\uB85C \uB370\uC774\uD130 \uBC31\uC5C5"),a()(),o(139,"ion-toggle",22),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.backupSettings.autoBackupEnabled,e)||(i.settings.backupSettings.autoBackupEnabled=e),u(e)}),a()(),w(140,Ve,5,2,"ion-item",9),o(141,"ion-item")(142,"ion-label")(143,"h3"),s(144,"\uC774\uBBF8\uC9C0 \uD3EC\uD568"),a(),o(145,"p"),s(146,"\uBC31\uC5C5\uC5D0 \uC601\uC218\uC99D \uC774\uBBF8\uC9C0 \uD3EC\uD568"),a()(),o(147,"ion-toggle",22),p("ngModelChange",function(e){c(n);let i=r();return m(i.settings.backupSettings.includeImages,e)||(i.settings.backupSettings.includeImages=e),u(e)}),a()(),w(148,Re,7,4,"ion-item",9),o(149,"ion-item",23),x("click",function(){c(n);let e=r();return u(e.showBackupOptions())}),o(150,"ion-label")(151,"h3"),s(152,"\uBC31\uC5C5 \uAD00\uB9AC"),a(),o(153,"p"),s(154,"\uBC31\uC5C5 \uC0DD\uC131, \uB0B4\uBCF4\uB0B4\uAE30, \uBCF5\uC6D0"),a()(),S(155,"ion-icon",17),a()()()()()}if(g&2){let n=r();l(14),_("ngModel",n.settings.exchangeRateSettings.useManualRate),l(),C("ngIf",n.settings.exchangeRateSettings.useManualRate),l(7),_("ngModel",n.settings.exchangeRateSettings.autoUpdateEnabled),l(),C("ngIf",n.settings.exchangeRateSettings.lastUpdated),l(12),_("ngModel",n.currentLanguage),l(),C("ngForOf",n.i18nLanguageOptions),l(29),_("ngModel",n.settings.translationSettings.autoTranslateEnabled),l(4),_("ngModel",n.settings.translationSettings.sourceLanguage),l(),C("ngForOf",n.languageOptions),l(4),_("ngModel",n.settings.translationSettings.targetLanguage),l(),C("ngForOf",n.languageOptions),l(4),_("ngModel",n.settings.translationSettings.translationProvider),l(18),_("ngModel",n.settings.notificationSettings.pushNotificationsEnabled),l(7),_("ngModel",n.settings.notificationSettings.receiptProcessingNotifications),l(7),_("ngModel",n.settings.notificationSettings.budgetAlerts),l(7),_("ngModel",n.settings.notificationSettings.exchangeRateUpdates),l(7),_("ngModel",n.settings.notificationSettings.weeklyReports),l(14),_("ngModel",n.settings.backupSettings.autoBackupEnabled),l(),C("ngIf",n.settings.backupSettings.autoBackupEnabled),l(7),_("ngModel",n.settings.backupSettings.includeImages),l(),C("ngIf",n.settings.backupSettings.lastBackupDate)}}function Le(g,d){g&1&&(o(0,"div",27)(1,"ion-card")(2,"ion-card-content")(3,"p"),s(4,"\uC124\uC815\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."),a()()()())}var Xe=(()=>{let d=class d{constructor(t,e,i,B,Ee,ye,be,ve){this.settingsService=t,this.i18nService=e,this.accessibilityService=i,this.offlineService=B,this.alertController=Ee,this.toastController=ye,this.loadingController=be,this.actionSheetController=ve,this.settings=null,this.languageOptions=xe,this.backupFrequencyOptions=Se,this.i18nLanguageOptions=this.i18nService.getLanguageOptions(),this.currentLanguage=this.i18nService.getCurrentLanguage(),this.manualExchangeRate=0,ae({settingsOutline:_e,swapHorizontalOutline:me,languageOutline:de,notificationsOutline:Ce,cloudUploadOutline:ce,downloadOutline:ue,cloudDownloadOutline:ge,timeOutline:pe,closeOutline:le,accessibilityOutline:se,chevronForwardOutline:re})}ngOnInit(){this.loadSettings()}loadSettings(){return h(this,null,function*(){let t=yield this.loadingController.create({message:"\uC124\uC815\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."});yield t.present(),this.settingsService.getSettings().subscribe({next:e=>{this.settings=e,this.manualExchangeRate=e.exchangeRateSettings.manualRate||0,t.dismiss()},error:e=>{console.error("Error loading settings:",e),t.dismiss(),this.showToast("\uC124\uC815\uC744 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}onExchangeRateToggle(){return h(this,null,function*(){if(!this.settings)return;this.settings.exchangeRateSettings.useManualRate&&!this.manualExchangeRate?yield this.showExchangeRateInput():yield this.updateExchangeRateSettings()})}showExchangeRateInput(){return h(this,null,function*(){yield(yield this.alertController.create({header:"\uD658\uC728 \uC124\uC815",message:"\uC218\uB3D9\uC73C\uB85C \uC124\uC815\uD560 \uD658\uC728\uC744 \uC785\uB825\uD558\uC138\uC694 (1\uC5D4 = ? \uC6D0)",inputs:[{name:"rate",type:"number",placeholder:"\uC608: 9.5",value:this.manualExchangeRate||""}],buttons:[{text:"\uCDE8\uC18C",role:"cancel",handler:()=>{this.settings&&(this.settings.exchangeRateSettings.useManualRate=!1)}},{text:"\uC124\uC815",handler:e=>{let i=parseFloat(e.rate);i&&i>0?(this.manualExchangeRate=i,this.updateExchangeRateSettings()):(this.showToast("\uC62C\uBC14\uB978 \uD658\uC728\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694.","warning"),this.settings&&(this.settings.exchangeRateSettings.useManualRate=!1))}}]})).present()})}updateExchangeRateSettings(){return h(this,null,function*(){if(!this.settings)return;let t=yield this.loadingController.create({message:"\uD658\uC728 \uC124\uC815\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uB294 \uC911..."});yield t.present(),this.settingsService.updateExchangeRate(this.settings.id,this.manualExchangeRate,this.settings.exchangeRateSettings.useManualRate).subscribe({next:e=>{this.settings=e,t.dismiss(),this.showToast("\uD658\uC728 \uC124\uC815\uC774 \uC5C5\uB370\uC774\uD2B8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success")},error:e=>{console.error("Error updating exchange rate:",e),t.dismiss(),this.showToast("\uD658\uC728 \uC124\uC815 \uC5C5\uB370\uC774\uD2B8\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}updateTranslationSettings(){return h(this,null,function*(){if(!this.settings)return;let t=yield this.loadingController.create({message:"\uBC88\uC5ED \uC124\uC815\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uB294 \uC911..."});yield t.present(),this.settingsService.updateTranslationSettings(this.settings.id,{sourceLanguage:this.settings.translationSettings.sourceLanguage,targetLanguage:this.settings.translationSettings.targetLanguage,autoTranslateEnabled:this.settings.translationSettings.autoTranslateEnabled,translationProvider:this.settings.translationSettings.translationProvider}).subscribe({next:e=>{this.settings=e,t.dismiss(),this.showToast("\uBC88\uC5ED \uC124\uC815\uC774 \uC5C5\uB370\uC774\uD2B8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success")},error:e=>{console.error("Error updating translation settings:",e),t.dismiss(),this.showToast("\uBC88\uC5ED \uC124\uC815 \uC5C5\uB370\uC774\uD2B8\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}updateNotificationSettings(){return h(this,null,function*(){if(!this.settings)return;let t=yield this.loadingController.create({message:"\uC54C\uB9BC \uC124\uC815\uC744 \uC5C5\uB370\uC774\uD2B8\uD558\uB294 \uC911..."});yield t.present(),this.settingsService.updateNotificationSettings(this.settings.id,{receiptProcessingNotifications:this.settings.notificationSettings.receiptProcessingNotifications,budgetAlerts:this.settings.notificationSettings.budgetAlerts,exchangeRateUpdates:this.settings.notificationSettings.exchangeRateUpdates,weeklyReports:this.settings.notificationSettings.weeklyReports,pushNotificationsEnabled:this.settings.notificationSettings.pushNotificationsEnabled}).subscribe({next:e=>{this.settings=e,t.dismiss(),this.showToast("\uC54C\uB9BC \uC124\uC815\uC774 \uC5C5\uB370\uC774\uD2B8\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success")},error:e=>{console.error("Error updating notification settings:",e),t.dismiss(),this.showToast("\uC54C\uB9BC \uC124\uC815 \uC5C5\uB370\uC774\uD2B8\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}showBackupOptions(){return h(this,null,function*(){yield(yield this.actionSheetController.create({header:"\uBC31\uC5C5 \uC635\uC158",buttons:[{text:"\uBC31\uC5C5 \uC0DD\uC131",icon:"cloud-upload-outline",handler:()=>{this.createBackup()}},{text:"\uBC31\uC5C5 \uB0B4\uBCF4\uB0B4\uAE30",icon:"download-outline",handler:()=>{this.exportBackup()}},{text:"\uBC31\uC5C5 \uBCF5\uC6D0",icon:"cloud-download-outline",handler:()=>{this.showRestoreOptions()}},{text:"\uBC31\uC5C5 \uAE30\uB85D",icon:"time-outline",handler:()=>{this.showBackupHistory()}},{text:"\uCDE8\uC18C",icon:"close",role:"cancel"}]})).present()})}createBackup(){return h(this,null,function*(){let t=yield this.loadingController.create({message:"\uBC31\uC5C5\uC744 \uC0DD\uC131\uD558\uB294 \uC911..."});yield t.present(),this.settingsService.createBackup().subscribe({next:e=>{t.dismiss(),this.showToast("\uBC31\uC5C5\uC774 \uC131\uACF5\uC801\uC73C\uB85C \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success")},error:e=>{console.error("Error creating backup:",e),t.dismiss(),this.showToast("\uBC31\uC5C5 \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}exportBackup(){return h(this,null,function*(){let t=yield this.loadingController.create({message:"\uBC31\uC5C5\uC744 \uB0B4\uBCF4\uB0B4\uB294 \uC911..."});yield t.present(),this.settingsService.exportBackup().subscribe({next:e=>{t.dismiss();let i=window.URL.createObjectURL(e),B=document.createElement("a");B.href=i,B.download=`backup-${new Date().toISOString().split("T")[0]}.json`,B.click(),window.URL.revokeObjectURL(i),this.showToast("\uBC31\uC5C5 \uD30C\uC77C\uC774 \uB2E4\uC6B4\uB85C\uB4DC\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success")},error:e=>{console.error("Error exporting backup:",e),t.dismiss(),this.showToast("\uBC31\uC5C5 \uB0B4\uBCF4\uB0B4\uAE30\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}showRestoreOptions(){return h(this,null,function*(){let t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=e=>{let i=e.target.files[0];i&&this.restoreBackup(i)},t.click()})}restoreBackup(t){return h(this,null,function*(){yield(yield this.alertController.create({header:"\uBC31\uC5C5 \uBCF5\uC6D0 \uD655\uC778",message:"\uBC31\uC5C5\uC744 \uBCF5\uC6D0\uD558\uBA74 \uD604\uC7AC \uB370\uC774\uD130\uAC00 \uBAA8\uB450 \uC0AD\uC81C\uB429\uB2C8\uB2E4. \uACC4\uC18D\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",buttons:[{text:"\uCDE8\uC18C",role:"cancel"},{text:"\uBCF5\uC6D0",handler:()=>h(this,null,function*(){let i=yield this.loadingController.create({message:"\uBC31\uC5C5\uC744 \uBCF5\uC6D0\uD558\uB294 \uC911..."});yield i.present(),this.settingsService.restoreBackup(t).subscribe({next:B=>{i.dismiss(),this.showToast("\uBC31\uC5C5\uC774 \uC131\uACF5\uC801\uC73C\uB85C \uBCF5\uC6D0\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success"),this.loadSettings()},error:B=>{console.error("Error restoring backup:",B),i.dismiss(),this.showToast("\uBC31\uC5C5 \uBCF5\uC6D0\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}]})).present()})}showBackupHistory(){return h(this,null,function*(){let t=yield this.loadingController.create({message:"\uBC31\uC5C5 \uAE30\uB85D\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."});yield t.present(),this.settingsService.getBackupHistory().subscribe({next:e=>{t.dismiss(),this.showBackupHistoryAlert(e)},error:e=>{console.error("Error getting backup history:",e),t.dismiss(),this.showToast("\uBC31\uC5C5 \uAE30\uB85D\uC744 \uBD88\uB7EC\uC624\uB294\uB370 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.","danger")}})})}showBackupHistoryAlert(t){return h(this,null,function*(){yield(yield this.alertController.create({header:"\uBC31\uC5C5 \uAE30\uB85D",message:t.length>0?`\uCD1D ${t.length}\uAC1C\uC758 \uBC31\uC5C5 \uD30C\uC77C\uC774 \uC788\uC2B5\uB2C8\uB2E4:

${t.slice(0,5).join(`
`)}`:"\uBC31\uC5C5 \uAE30\uB85D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()})}showToast(t,e="success"){return h(this,null,function*(){yield(yield this.toastController.create({message:t,duration:3e3,color:e,position:"bottom"})).present()})}getLanguageName(t){let e=this.languageOptions.find(i=>i.code===t);return e?`${e.flag} ${e.name}`:t}getBackupFrequencyLabel(t){let e=this.backupFrequencyOptions.find(i=>i.value===t);return e?e.label:t}onLanguageChange(){this.i18nService.setLanguage(this.currentLanguage),this.showToast("\uC5B8\uC5B4\uAC00 \uBCC0\uACBD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.","success"),this.accessibilityService.announceToScreenReader(`Language changed to ${this.i18nService.getLanguageName(this.currentLanguage)}`)}};d.\u0275fac=function(e){return new(e||d)(f(he),f(we),f(fe),f(Be),f(Z),f(ee),f($),f(X))},d.\u0275cmp=P({type:d,selectors:[["app-settings"]],decls:9,vars:4,consts:[[3,"translucent"],["slot","start"],["defaultHref","/tabs/tab3"],[3,"fullscreen"],["class","settings-container",4,"ngIf"],["class","loading-container",4,"ngIf"],[1,"settings-container"],["name","swap-horizontal-outline"],[3,"ngModelChange","ionChange","ngModel"],[4,"ngIf"],["name","language-outline"],["name","language-outline","slot","start"],["interface","popover",3,"ngModelChange","ionChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","accessibility-outline"],["button","","routerLink","/accessibility-settings"],["name","accessibility-outline","slot","start"],["name","chevron-forward-outline","slot","end"],["value","google"],["value","manual"],["name","notifications-outline"],["name","cloud-upload-outline"],[3,"ngModelChange","ngModel"],["button","",3,"click"],["position","stacked"],["type","number","placeholder","\uC608: 9.5","readonly","",3,"ngModelChange","ngModel"],[3,"value"],[1,"loading-container"]],template:function(e,i){e&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),S(3,"ion-back-button",2),a(),o(4,"ion-title"),s(5,"\uC124\uC815"),a()()(),o(6,"ion-content",3),w(7,Ie,156,21,"div",4)(8,Le,5,0,"div",5),a()),e&2&&(C("translucent",!0),l(6),C("fullscreen",!0),l(),C("ngIf",i.settings),l(),C("ngIf",!i.settings))},dependencies:[H,q,Y,J,K,z,G,oe,ie,Q,te,F,U,j,N,ne,A,W,V,D,k,L,R,I,O],styles:[".settings-container[_ngcontent-%COMP%]{padding:16px 16px 32px}ion-card[_ngcontent-%COMP%]{margin-bottom:16px;border-radius:12px;box-shadow:0 2px 8px #0000001a}ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:1.2rem;font-weight:600;color:var(--ion-color-primary)}ion-card-title[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:1.4rem}ion-list[_ngcontent-%COMP%]{background:transparent}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--inner-padding-end: 0;--border-color: var(--ion-color-light-shade)}ion-item[_ngcontent-%COMP%]:last-child{--border-width: 0}ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1rem;font-weight:500;color:var(--ion-color-dark)}ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem;color:var(--ion-color-medium);line-height:1.3}ion-toggle[_ngcontent-%COMP%]{--handle-width: 20px;--handle-height: 20px;--track-width: 44px;--track-height: 24px}ion-select[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium)}ion-input[_ngcontent-%COMP%]{--placeholder-color: var(--ion-color-medium);--color: var(--ion-color-dark)}.loading-container[_ngcontent-%COMP%]{padding:16px;display:flex;justify-content:center;align-items:center;min-height:200px}.loading-container[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{width:100%;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--ion-color-medium)}@media (prefers-color-scheme: dark){ion-card[_ngcontent-%COMP%]{background:var(--ion-color-step-50)}ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:var(--ion-color-light)}ion-input[_ngcontent-%COMP%]{--color: var(--ion-color-light)}}"]});let g=d;return g})();export{Xe as SettingsPage};
