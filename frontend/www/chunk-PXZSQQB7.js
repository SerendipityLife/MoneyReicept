import{a as je}from"./chunk-ILIUFNZN.js";import{a as X}from"./chunk-WF62HMP4.js";import"./chunk-JHTPU5XN.js";import{D as Fe,G as me,J as We,N as Ce,W as ge,Y as _e,a as z,d as pe,e as N,g as Ae,j as ue,k as Re,m as ne,t as Le}from"./chunk-BXN76OUI.js";import{Aa as oe,Ab as be,Ba as T,Cb as k,D as xe,E as r,F as _,Gb as Q,H as I,Hb as Se,Ib as Ie,Ja as ae,Jb as we,Kb as A,L as f,Lb as le,Mb as Te,P as u,Pa as $,Q as n,Qa as ee,R as i,S as m,Ta as re,Tb as Ee,Ua as K,W as J,Wb as Oe,X as C,Xb as R,Y as h,Yb as L,_b as F,ac as Be,bc as se,dc as W,ea as Me,fa as l,fc as de,ga as Z,gc as j,ha as S,hc as ce,ia as V,jc as ke,ka as D,la as x,ma as M,pa as v,pb as E,qb as O,ra as P,rb as q,sb as U,tb as G,va as ie,vb as Y,w as y,wa as w,wb as te,x as b,ya as H,yb as B,zb as ye}from"./chunk-TEVF6OOM.js";import"./chunk-5HJQGQPL.js";import"./chunk-7KGURMOZ.js";import"./chunk-7NBBWGH4.js";import"./chunk-MYTP3L75.js";import"./chunk-HDBTADGC.js";import"./chunk-YSN7XVTD.js";import"./chunk-R5HL6L5F.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-2YSZFPCQ.js";import"./chunk-57YRIO75.js";import"./chunk-F5TKO3NK.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import{a as Pe,e as g}from"./chunk-JHI3MBHO.js";function Ke(a,s){if(a&1&&(n(0,"span",17),l(1),i()),a&2){let d=h(2);r(),S(" (",d.getDateRangeDays(),"\uC77C) ")}}function qe(a,s){if(a&1&&(n(0,"p"),l(1),v(2,"date"),v(3,"date"),f(4,Ke,2,1,"span",16),i()),a&2){let d=h();r(),V(" ",P(2,3,d.travelPlan.startDate,"yyyy.MM.dd")," ~ ",P(3,6,d.travelPlan.endDate,"yyyy.MM.dd")," "),r(3),u("ngIf",d.getDateRangeDays()>0)}}function Ue(a,s){a&1&&(n(0,"p",18),l(1," \uCE98\uB9B0\uB354\uC5D0\uC11C \uC5EC\uD589 \uAE30\uAC04\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694 "),i())}function Ge(a,s){a&1&&(n(0,"span"),l(1,"\uC5EC\uD589 \uACC4\uD68D \uC800\uC7A5"),i())}function Ye(a,s){a&1&&(n(0,"span"),l(1,"\uC800\uC7A5 \uC911..."),i())}var Ne=(()=>{let s=class s{constructor(t,o,e,p){this.modalController=t,this.toastController=o,this.alertController=e,this.budgetService=p,this.travelPlan={name:"",startDate:"",endDate:"",budget:0,description:""},this.minDate=new Date().toISOString(),this.selectedDate=new Date().toISOString(),this.isCreating=!1,this.isSelectingStartDate=!0,this.highlightedDates=[],z({calendarOutline:N,saveOutline:Ce,closeOutline:ne})}ngOnInit(){let t=new Date;this.selectedDate=t.toISOString()}onDateSelected(t){let o=new Date(t.detail.value);if(this.isSelectingStartDate)this.travelPlan.startDate=o.toISOString(),this.isSelectingStartDate=!1,this.updateHighlightedDates(),this.showToast("\uC2DC\uC791\uC77C\uC774 \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4. \uC774\uC81C \uC885\uB8CC\uC77C\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694.");else{let e=new Date(this.travelPlan.startDate);if(o<e){this.showError("\uC885\uB8CC\uC77C\uC740 \uC2DC\uC791\uC77C\uBCF4\uB2E4 \uC774\uD6C4\uC5EC\uC57C \uD569\uB2C8\uB2E4.");return}this.travelPlan.endDate=o.toISOString(),this.isSelectingStartDate=!0,this.updateHighlightedDates(),this.showToast("\uC5EC\uD589 \uAE30\uAC04\uC774 \uC124\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.")}}updateHighlightedDates(){if(this.highlightedDates=[],this.travelPlan.startDate&&this.travelPlan.endDate){let t=new Date(this.travelPlan.startDate),o=new Date(this.travelPlan.endDate),e=new Date(t);for(;e<=o;)this.highlightedDates.push({date:e.toISOString().split("T")[0],textColor:"#ffffff",backgroundColor:"#3880ff"}),e.setDate(e.getDate()+1)}else this.travelPlan.startDate&&this.highlightedDates.push({date:this.travelPlan.startDate.split("T")[0],textColor:"#ffffff",backgroundColor:"#3880ff"})}getDateRangeDays(){if(!this.travelPlan.startDate||!this.travelPlan.endDate)return 0;let t=new Date(this.travelPlan.startDate),o=new Date(this.travelPlan.endDate),e=Math.abs(o.getTime()-t.getTime());return Math.ceil(e/(1e3*60*60*24))+1}saveTravelPlan(){return g(this,null,function*(){if(this.validateForm()){this.isCreating=!0;try{let t={id:Date.now().toString(),name:this.travelPlan.name,startDate:new Date(this.travelPlan.startDate),endDate:new Date(this.travelPlan.endDate),budget:this.travelPlan.budget,spent:0,receipts:[],description:this.travelPlan.description,status:"active",createdAt:new Date,updatedAt:new Date};yield this.budgetService.createTravelPlan(t).toPromise(),(yield this.toastController.create({message:"\uC5EC\uD589 \uACC4\uD68D\uC774 \uC0DD\uC131\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",duration:2e3,position:"top",color:"success"})).present(),this.modalController.dismiss(t)}catch(t){console.error("Error creating travel plan:",t),(yield this.alertController.create({header:"\uC624\uB958",message:"\uC5EC\uD589 \uACC4\uD68D \uC0DD\uC131\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()}finally{this.isCreating=!1}}})}validateForm(){if(!this.travelPlan.name||this.travelPlan.name.trim()==="")return this.showError("\uC5EC\uD589 \uACC4\uD68D \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694."),!1;if(!this.travelPlan.startDate||!this.travelPlan.endDate)return this.showError("\uC5EC\uD589 \uAE30\uAC04\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694."),!1;let t=new Date(this.travelPlan.startDate),o=new Date(this.travelPlan.endDate);return t>o?(this.showError("\uC2DC\uC791\uC77C\uC740 \uC885\uB8CC\uC77C\uBCF4\uB2E4 \uC774\uC804\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4."),!1):!0}showError(t){return g(this,null,function*(){(yield this.toastController.create({message:t,duration:3e3,position:"top",color:"danger"})).present()})}showToast(t){return g(this,null,function*(){(yield this.toastController.create({message:t,duration:2e3,position:"top",color:"primary"})).present()})}dismiss(){this.modalController.dismiss()}};s.\u0275fac=function(o){return new(o||s)(_(F),_(W),_(se),_(X))},s.\u0275cmp=I({type:s,selectors:[["app-travel-plan-creator-modal"]],decls:42,vars:11,consts:[["slot","end"],[3,"click"],["name","close"],[1,"modal-container"],["name","calendar-outline"],["position","stacked"],["placeholder","\uC608: \uB3C4\uCFC4 \uC5EC\uD589 2025","required","",3,"ngModelChange","ngModel"],[1,"date-range-display"],[4,"ngIf"],["class","date-hint",4,"ngIf"],["presentation","date",3,"ngModelChange","ionChange","ngModel","min","highlightedDates"],["type","number","placeholder","\uC608\uC0B0\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],["placeholder","\uC5EC\uD589\uC5D0 \uB300\uD55C \uAC04\uB2E8\uD55C \uC124\uBA85\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],[1,"button-container"],["expand","block","fill","solid",3,"click","disabled"],["name","save-outline","slot","start"],["class","date-count",4,"ngIf"],[1,"date-count"],[1,"date-hint"]],template:function(o,e){o&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"\uC0C8 \uC5EC\uD589 \uACC4\uD68D \uB9CC\uB4E4\uAE30"),i(),n(4,"ion-buttons",0)(5,"ion-button",1),C("click",function(){return e.dismiss()}),m(6,"ion-icon",2),i()()()(),n(7,"ion-content")(8,"div",3)(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),m(12,"ion-icon",4),l(13," \uC5EC\uD589 \uC815\uBCF4 \uC785\uB825 "),i()(),n(14,"ion-card-content")(15,"ion-item")(16,"ion-label",5),l(17,"\uC5EC\uD589 \uACC4\uD68D \uC774\uB984 *"),i(),n(18,"ion-input",6),M("ngModelChange",function(c){return x(e.travelPlan.name,c)||(e.travelPlan.name=c),c}),i()(),n(19,"ion-item")(20,"ion-label",5),l(21,"\uC5EC\uD589 \uAE30\uAC04 \uC120\uD0DD *"),i(),n(22,"div",7),f(23,qe,5,9,"p",8)(24,Ue,2,0,"p",9),i()(),n(25,"ion-item")(26,"ion-label",5),l(27,"\uB0A0\uC9DC \uC120\uD0DD"),i(),n(28,"ion-datetime",10),M("ngModelChange",function(c){return x(e.selectedDate,c)||(e.selectedDate=c),c}),C("ionChange",function(c){return e.onDateSelected(c)}),i()(),n(29,"ion-item")(30,"ion-label",5),l(31,"\uC608\uC0B0 (\uC120\uD0DD\uC0AC\uD56D)"),i(),n(32,"ion-input",11),M("ngModelChange",function(c){return x(e.travelPlan.budget,c)||(e.travelPlan.budget=c),c}),i()(),n(33,"ion-item")(34,"ion-label",5),l(35,"\uC124\uBA85 (\uC120\uD0DD\uC0AC\uD56D)"),i(),n(36,"ion-input",12),M("ngModelChange",function(c){return x(e.travelPlan.description,c)||(e.travelPlan.description=c),c}),i()()()(),n(37,"div",13)(38,"ion-button",14),C("click",function(){return e.saveTravelPlan()}),m(39,"ion-icon",15),f(40,Ge,2,0,"span",8)(41,Ye,2,0,"span",8),i()()()()),o&2&&(r(18),D("ngModel",e.travelPlan.name),r(5),u("ngIf",e.travelPlan.startDate&&e.travelPlan.endDate),r(),u("ngIf",!e.travelPlan.startDate||!e.travelPlan.endDate),r(4),D("ngModel",e.selectedDate),u("min",e.minDate)("highlightedDates",e.highlightedDates),r(4),D("ngModel",e.travelPlan.budget),r(4),D("ngModel",e.travelPlan.description),r(2),u("disabled",e.isCreating),r(2),u("ngIf",!e.isCreating),r(),u("ngIf",e.isCreating))},dependencies:[T,w,K,$,re,ee,k,L,R,B,E,O,Q,A,ce,de,q,G,Y,U,j,H],styles:[".modal-container[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 2px 8px #0000001a}ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:flex;align-items:center;gap:8px}ion-card-content[_ngcontent-%COMP%]{padding-top:0}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--border-radius: 8px;margin-bottom:16px}ion-label[position=stacked][_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-dark);margin-bottom:8px}ion-input[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--border-radius: 8px;--background: var(--ion-color-light)}ion-datetime[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--border-radius: 8px;--background: var(--ion-color-light)}.date-range-display[_ngcontent-%COMP%]{padding:12px;background:var(--ion-color-light);border-radius:8px;margin-top:8px}.date-range-display[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:var(--ion-color-dark)}.date-count[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-weight:600}.date-hint[_ngcontent-%COMP%]{color:var(--ion-color-medium)!important;font-style:italic}.button-container[_ngcontent-%COMP%]{margin-top:24px;padding:0 16px}ion-button[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600}"]});let a=s;return a})();function Qe(a,s){a&1&&(n(0,"span"),l(1,"\uBCC0\uACBD\uC0AC\uD56D \uC800\uC7A5"),i())}function Xe(a,s){a&1&&(n(0,"span"),l(1,"\uC800\uC7A5 \uC911..."),i())}function Ze(a,s){a&1&&(n(0,"span"),l(1,"\uC5EC\uD589 \uACC4\uD68D \uC0AD\uC81C"),i())}function $e(a,s){a&1&&(n(0,"span"),l(1,"\uC0AD\uC81C \uC911..."),i())}var Ve=(()=>{let s=class s{constructor(t,o,e,p){this.modalController=t,this.toastController=o,this.alertController=e,this.budgetService=p,this.minDate=new Date().toISOString(),this.isSaving=!1,this.isDeleting=!1,z({calendarOutline:N,saveOutline:Ce,closeOutline:ne,trashOutline:_e})}ngOnInit(){this.editedPlan={name:this.travelPlan.name,startDate:this.travelPlan.startDate.toISOString(),endDate:this.travelPlan.endDate.toISOString(),budget:this.travelPlan.budget,description:this.travelPlan.description||""}}saveChanges(){return g(this,null,function*(){if(this.validateForm()){this.isSaving=!0;try{let t={name:this.editedPlan.name,startDate:new Date(this.editedPlan.startDate),endDate:new Date(this.editedPlan.endDate),budget:this.editedPlan.budget,description:this.editedPlan.description,updatedAt:new Date};yield this.budgetService.updateTravelPlan(this.travelPlan.id,t).toPromise(),(yield this.toastController.create({message:"\uC5EC\uD589 \uACC4\uD68D\uC774 \uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",duration:2e3,position:"top",color:"success"})).present(),this.modalController.dismiss(Pe(Pe({},this.travelPlan),t))}catch(t){console.error("Error updating travel plan:",t),(yield this.alertController.create({header:"\uC624\uB958",message:"\uC5EC\uD589 \uACC4\uD68D \uC218\uC815\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()}finally{this.isSaving=!1}}})}deleteTravelPlan(){return g(this,null,function*(){yield(yield this.alertController.create({header:"\uC5EC\uD589 \uACC4\uD68D \uC0AD\uC81C",message:`'${this.travelPlan.name}' \uC5EC\uD589 \uACC4\uD68D\uC744 \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?`,buttons:[{text:"\uCDE8\uC18C",role:"cancel"},{text:"\uC0AD\uC81C",role:"destructive",handler:()=>{this.confirmDelete()}}]})).present()})}confirmDelete(){return g(this,null,function*(){this.isDeleting=!0;try{yield this.budgetService.deleteTravelPlan(this.travelPlan.id).toPromise(),(yield this.toastController.create({message:"\uC5EC\uD589 \uACC4\uD68D\uC774 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",duration:2e3,position:"top",color:"success"})).present(),this.modalController.dismiss(this.travelPlan,"delete")}catch(t){console.error("Error deleting travel plan:",t),(yield this.alertController.create({header:"\uC624\uB958",message:"\uC5EC\uD589 \uACC4\uD68D \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()}finally{this.isDeleting=!1}})}validateForm(){if(!this.editedPlan.name||this.editedPlan.name.trim()==="")return this.showError("\uC5EC\uD589 \uACC4\uD68D \uC774\uB984\uC744 \uC785\uB825\uD574\uC8FC\uC138\uC694."),!1;if(!this.editedPlan.startDate||!this.editedPlan.endDate)return this.showError("\uC5EC\uD589 \uAE30\uAC04\uC744 \uC120\uD0DD\uD574\uC8FC\uC138\uC694."),!1;let t=new Date(this.editedPlan.startDate),o=new Date(this.editedPlan.endDate);return t>o?(this.showError("\uC2DC\uC791\uC77C\uC740 \uC885\uB8CC\uC77C\uBCF4\uB2E4 \uC774\uC804\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4."),!1):!0}showError(t){return g(this,null,function*(){(yield this.toastController.create({message:t,duration:3e3,position:"top",color:"danger"})).present()})}dismiss(){this.modalController.dismiss()}};s.\u0275fac=function(o){return new(o||s)(_(F),_(W),_(se),_(X))},s.\u0275cmp=I({type:s,selectors:[["app-travel-plan-editor-modal"]],decls:44,vars:13,consts:[["slot","end"],[3,"click"],["name","close"],[1,"modal-container"],["name","calendar-outline"],["position","stacked"],["placeholder","\uC608: \uB3C4\uCFC4 \uC5EC\uD589 2025","required","",3,"ngModelChange","ngModel"],["presentation","date","required","",3,"ngModelChange","ngModel","min"],["type","number","placeholder","\uC608\uC0B0\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],["placeholder","\uC5EC\uD589\uC5D0 \uB300\uD55C \uAC04\uB2E8\uD55C \uC124\uBA85\uC744 \uC785\uB825\uD558\uC138\uC694",3,"ngModelChange","ngModel"],[1,"button-container"],["expand","block","fill","solid",3,"click","disabled"],["name","save-outline","slot","start"],[4,"ngIf"],["expand","block","fill","outline","color","danger",3,"click","disabled"],["name","trash-outline","slot","start"]],template:function(o,e){o&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"\uC5EC\uD589 \uACC4\uD68D \uD3B8\uC9D1"),i(),n(4,"ion-buttons",0)(5,"ion-button",1),C("click",function(){return e.dismiss()}),m(6,"ion-icon",2),i()()()(),n(7,"ion-content")(8,"div",3)(9,"ion-card")(10,"ion-card-header")(11,"ion-card-title"),m(12,"ion-icon",4),l(13," \uC5EC\uD589 \uC815\uBCF4 \uC218\uC815 "),i()(),n(14,"ion-card-content")(15,"ion-item")(16,"ion-label",5),l(17,"\uC5EC\uD589 \uACC4\uD68D \uC774\uB984 *"),i(),n(18,"ion-input",6),M("ngModelChange",function(c){return x(e.editedPlan.name,c)||(e.editedPlan.name=c),c}),i()(),n(19,"ion-item")(20,"ion-label",5),l(21,"\uC2DC\uC791\uC77C *"),i(),n(22,"ion-datetime",7),M("ngModelChange",function(c){return x(e.editedPlan.startDate,c)||(e.editedPlan.startDate=c),c}),i()(),n(23,"ion-item")(24,"ion-label",5),l(25,"\uC885\uB8CC\uC77C *"),i(),n(26,"ion-datetime",7),M("ngModelChange",function(c){return x(e.editedPlan.endDate,c)||(e.editedPlan.endDate=c),c}),i()(),n(27,"ion-item")(28,"ion-label",5),l(29,"\uC608\uC0B0 (\uC120\uD0DD\uC0AC\uD56D)"),i(),n(30,"ion-input",8),M("ngModelChange",function(c){return x(e.editedPlan.budget,c)||(e.editedPlan.budget=c),c}),i()(),n(31,"ion-item")(32,"ion-label",5),l(33,"\uC124\uBA85 (\uC120\uD0DD\uC0AC\uD56D)"),i(),n(34,"ion-input",9),M("ngModelChange",function(c){return x(e.editedPlan.description,c)||(e.editedPlan.description=c),c}),i()()()(),n(35,"div",10)(36,"ion-button",11),C("click",function(){return e.saveChanges()}),m(37,"ion-icon",12),f(38,Qe,2,0,"span",13)(39,Xe,2,0,"span",13),i(),n(40,"ion-button",14),C("click",function(){return e.deleteTravelPlan()}),m(41,"ion-icon",15),f(42,Ze,2,0,"span",13)(43,$e,2,0,"span",13),i()()()()),o&2&&(r(18),D("ngModel",e.editedPlan.name),r(4),D("ngModel",e.editedPlan.startDate),u("min",e.minDate),r(4),D("ngModel",e.editedPlan.endDate),u("min",e.editedPlan.startDate),r(4),D("ngModel",e.editedPlan.budget),r(4),D("ngModel",e.editedPlan.description),r(2),u("disabled",e.isSaving),r(2),u("ngIf",!e.isSaving),r(),u("ngIf",e.isSaving),r(),u("disabled",e.isDeleting),r(2),u("ngIf",!e.isDeleting),r(),u("ngIf",e.isDeleting))},dependencies:[T,w,K,$,re,ee,k,L,R,B,E,O,Q,A,ce,de,q,G,Y,U,j],styles:[".modal-container[_ngcontent-%COMP%]{padding:16px}ion-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 2px 8px #0000001a}ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:flex;align-items:center;gap:8px}ion-card-content[_ngcontent-%COMP%]{padding-top:0}ion-item[_ngcontent-%COMP%]{--padding-start: 0;--padding-end: 0;--border-radius: 8px;margin-bottom:16px}ion-label[position=stacked][_ngcontent-%COMP%]{font-weight:500;color:var(--ion-color-dark);margin-bottom:8px}ion-input[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--border-radius: 8px;--background: var(--ion-color-light)}ion-datetime[_ngcontent-%COMP%]{--padding-start: 12px;--padding-end: 12px;--border-radius: 8px;--background: var(--ion-color-light)}.button-container[_ngcontent-%COMP%]{margin-top:24px;padding:0 16px;display:flex;flex-direction:column;gap:12px}ion-button[_ngcontent-%COMP%]{--border-radius: 12px;height:48px;font-weight:600}"]});let a=s;return a})();function et(a,s){if(a&1&&(n(0,"p"),m(1,"ion-icon",18),l(2),v(3,"currency"),i()),a&2){let d=h().$implicit;r(2),S(" \uC608\uC0B0: ",P(3,1,d.budget,"KRW")," ")}}function tt(a,s){if(a&1&&(n(0,"p"),l(1),i()),a&2){let d=h().$implicit;r(),S(" ",d.description," ")}}function nt(a,s){a&1&&m(0,"ion-icon",19)}function it(a,s){if(a&1){let d=J();n(0,"ion-item-sliding")(1,"ion-item",1),C("click",function(){let o=y(d).$implicit,e=h();return b(e.selectPlan(o))}),n(2,"ion-label")(3,"h2"),l(4),i(),n(5,"p"),m(6,"ion-icon",8),l(7),v(8,"date"),v(9,"date"),i(),f(10,et,4,4,"p",9)(11,tt,2,1,"p",9),n(12,"div",10)(13,"ion-chip",11),l(14),i()()(),f(15,nt,1,0,"ion-icon",12),i(),n(16,"ion-item-options",13)(17,"ion-item-option",14),C("click",function(){let o=y(d).$implicit,e=h();return b(e.editPlan(o))}),m(18,"ion-icon",15),i(),n(19,"ion-item-option",16),C("click",function(){let o=y(d).$implicit,e=h();return b(e.deletePlan(o))}),m(20,"ion-icon",17),i()()()}if(a&2){let d=s.$implicit,t=h();r(4),Z(d.name),r(3),V(" ",P(8,8,d.startDate,"yyyy.MM.dd")," - ",P(9,11,d.endDate,"yyyy.MM.dd")," "),r(3),u("ngIf",d.budget>0),r(),u("ngIf",d.description),r(2),u("color",t.getPlanStatusColor(d)),r(),S(" ",t.getPlanStatusText(d)," "),r(),u("ngIf",t.selectedPlanId===d.id)}}function ot(a,s){if(a&1){let d=J();n(0,"div",20),m(1,"ion-icon",21),n(2,"h3"),l(3,"\uC5EC\uD589 \uACC4\uD68D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),i(),n(4,"p"),l(5,"\uC0C8\uB85C\uC6B4 \uC5EC\uD589 \uACC4\uD68D\uC744 \uB9CC\uB4E4\uC5B4\uBCF4\uC138\uC694"),i(),n(6,"ion-button",3),C("click",function(){y(d);let o=h();return b(o.createNewPlan())}),m(7,"ion-icon",4),l(8," \uC0C8 \uC5EC\uD589 \uACC4\uD68D \uB9CC\uB4E4\uAE30 "),i()()}}var Je=(()=>{let s=class s{constructor(t,o,e){this.budgetService=t,this.modalController=o,this.toastController=e,this.travelPlans=[],this.filteredPlans=[],this.searchTerm="",this.selectedPlanId=null,z({calendarOutline:N,locationOutline:me,timeOutline:ge,checkmarkOutline:ue,addOutline:pe,createOutline:Le,trashOutline:_e})}ngOnInit(){this.loadTravelPlans()}loadTravelPlans(){return g(this,null,function*(){try{this.budgetService.getTravelPlans().subscribe({next:t=>{this.travelPlans=t,this.filteredPlans=[...this.travelPlans]},error:t=>{console.error("\uC5EC\uD589 \uACC4\uD68D \uB85C\uB4DC \uC624\uB958:",t),this.travelPlans=[{id:"1",name:"\uB3C4\uCFC4 \uC5EC\uD589 2025",startDate:new Date("2025-01-15"),endDate:new Date("2025-01-22"),budget:5e5,spent:0,receipts:[],description:"\uB3C4\uCFC4 7\uBC15 8\uC77C \uC5EC\uD589"},{id:"2",name:"\uC624\uC0AC\uCE74 \uC5EC\uD589",startDate:new Date("2025-03-10"),endDate:new Date("2025-03-15"),budget:3e5,spent:0,receipts:[],description:"\uC624\uC0AC\uCE74 5\uBC15 6\uC77C \uC5EC\uD589"}],this.filteredPlans=[...this.travelPlans]}})}catch(t){console.error("\uC5EC\uD589 \uACC4\uD68D \uB85C\uB4DC \uC624\uB958:",t)}})}filterPlans(){this.searchTerm.trim()?this.filteredPlans=this.travelPlans.filter(t=>t.name.toLowerCase().includes(this.searchTerm.toLowerCase())):this.filteredPlans=[...this.travelPlans]}selectPlan(t){this.selectedPlanId=t.id,this.dismiss(t)}editPlan(t){return g(this,null,function*(){let o=yield this.modalController.create({component:Ve,componentProps:{travelPlan:t}});return o.onDidDismiss().then(e=>{if(e.data)if(e.role==="delete")this.travelPlans=this.travelPlans.filter(p=>p.id!==e.data.id),this.filteredPlans=[...this.travelPlans],this.showToast("\uC5EC\uD589 \uACC4\uD68D\uC774 \uC0AD\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.");else{let p=this.travelPlans.findIndex(c=>c.id===e.data.id);p!==-1&&(this.travelPlans[p]=e.data,this.filteredPlans=[...this.travelPlans],this.showToast("\uC5EC\uD589 \uACC4\uD68D\uC774 \uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))}}),yield o.present()})}deletePlan(t){return g(this,null,function*(){yield this.editPlan(t)})}getPlanStatusColor(t){let o=new Date,e=new Date(t.startDate),p=new Date(t.endDate);return o>=e&&o<=p?"success":o<e?"warning":"medium"}getPlanStatusText(t){let o=new Date,e=new Date(t.startDate),p=new Date(t.endDate);return o>=e&&o<=p?"\uC9C4\uD589\uC911":o<e?"\uC608\uC815":"\uC644\uB8CC"}createNewPlan(){return g(this,null,function*(){let t=yield this.modalController.create({component:Ne});return t.onDidDismiss().then(o=>{o.data&&(this.travelPlans.unshift(o.data),this.filteredPlans=[...this.travelPlans],this.selectPlan(o.data))}),yield t.present()})}showToast(t){return g(this,null,function*(){(yield this.toastController.create({message:t,duration:2e3,position:"top",color:"success"})).present()})}dismiss(t){this.modalController.dismiss(t,"select")}};s.\u0275fac=function(o){return new(o||s)(_(X),_(F),_(W))},s.\u0275cmp=I({type:s,selectors:[["app-travel-plan-selector-modal"]],decls:16,vars:3,consts:[["slot","end"],[3,"click"],[1,"header-actions"],["fill","outline",3,"click"],["name","add-outline","slot","start"],["placeholder","\uC5EC\uD589 \uACC4\uD68D \uAC80\uC0C9","debounce","300",3,"ngModelChange","ionInput","ngModel"],[4,"ngFor","ngForOf"],["class","no-plans",4,"ngIf"],["name","calendar-outline"],[4,"ngIf"],[1,"plan-status"],["size","small",3,"color"],["name","checkmark-outline","color","primary","slot","end",4,"ngIf"],["side","end"],["color","primary",3,"click"],["name","create-outline","slot","icon-only"],["color","danger",3,"click"],["name","trash-outline","slot","icon-only"],["name","location-outline"],["name","checkmark-outline","color","primary","slot","end"],[1,"no-plans"],["name","calendar-outline","size","large"]],template:function(o,e){o&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),l(3,"\uC5EC\uD589 \uACC4\uD68D \uC120\uD0DD"),i(),n(4,"ion-buttons",0)(5,"ion-button",1),C("click",function(){return e.dismiss()}),l(6,"\uB2EB\uAE30"),i()()()(),n(7,"ion-content")(8,"div",2)(9,"ion-button",3),C("click",function(){return e.createNewPlan()}),m(10,"ion-icon",4),l(11," \uC0C8 \uC5EC\uD589 \uACC4\uD68D \uB9CC\uB4E4\uAE30 "),i()(),n(12,"ion-searchbar",5),M("ngModelChange",function(c){return x(e.searchTerm,c)||(e.searchTerm=c),c}),C("ionInput",function(){return e.filterPlans()}),i(),n(13,"ion-list"),f(14,it,21,14,"ion-item-sliding",6),i(),f(15,ot,9,0,"div",7),i()),o&2&&(r(12),D("ngModel",e.searchTerm),r(2),u("ngForOf",e.filteredPlans),r(),u("ngIf",e.filteredPlans.length===0))},dependencies:[T,ie,w,K,$,ee,k,L,R,B,le,Q,A,E,O,j,te,ke,we,Ie,Se,oe,H],styles:[".header-actions[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--ion-color-light)}.plan-status[_ngcontent-%COMP%]{margin-top:8px}.no-plans[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--ion-color-medium)}.no-plans[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:var(--ion-color-medium)}.no-plans[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-dark)}.no-plans[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:24px;color:var(--ion-color-medium)}ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:14px;color:var(--ion-color-medium)}ion-icon[_ngcontent-%COMP%]{margin-right:4px}"]});let a=s;return a})();function rt(a,s){if(a&1&&(n(0,"p",12),l(1),v(2,"currency"),i()),a&2){let d=h(2);r(),S(" \uC608\uC0B0: ",P(2,1,d.travelPlan.budget,"KRW")," ")}}function lt(a,s){if(a&1&&(n(0,"ion-card",8)(1,"ion-card-header")(2,"ion-card-title"),m(3,"ion-icon",9),l(4),i()(),n(5,"ion-card-content")(6,"p",10),l(7),v(8,"date"),v(9,"date"),i(),f(10,rt,3,4,"p",11),i()()),a&2){let d=h();r(4),S(" ",d.travelPlan.name," "),r(3),V(" ",P(8,4,d.travelPlan.startDate,"yyyy.MM.dd")," - ",P(9,7,d.travelPlan.endDate,"yyyy.MM.dd")," "),r(3),u("ngIf",d.travelPlan.budget>0)}}function st(a,s){a&1&&(n(0,"div",13),m(1,"ion-spinner",14),n(2,"p"),l(3,"\uC601\uC218\uC99D\uC744 \uBD88\uB7EC\uC624\uB294 \uC911..."),i()())}function dt(a,s){if(a&1){let d=J();n(0,"ion-item",16),C("click",function(){let o=y(d).$implicit,e=h(2);return b(e.viewReceipt(o))}),n(1,"ion-thumbnail",17)(2,"img",18),C("error",function(o){return y(d),b(o.target.src="assets/icon/favicon.png")}),i(),n(3,"div",19),m(4,"ion-icon",20),i()(),n(5,"ion-label")(6,"h2"),l(7),i(),n(8,"p"),m(9,"ion-icon",21),l(10),v(11,"date"),i(),n(12,"p"),m(13,"ion-icon",22),l(14),v(15,"currency"),v(16,"currency"),i(),n(17,"div",23)(18,"ion-chip",24),l(19),i()()(),n(20,"ion-note",1),m(21,"ion-icon",25),i()()}if(a&2){let d=s.$implicit,t=h(2);r(2),u("src",d.imageUrl,xe)("alt",d.storeName),r(),Me(t.getStatusColor(d.processingStatus)),r(),u("name",d.processingStatus==="completed"?"checkmark-outline":"time-outline"),r(3),Z(d.storeName),r(3),S(" ",P(11,11,d.purchaseDate,"yyyy.MM.dd HH:mm")," "),r(4),V(" ",P(15,14,d.totalAmountJpy,"JPY")," / ",P(16,17,d.totalAmountKrw,"KRW")," "),r(4),u("color",t.getStatusColor(d.processingStatus)),r(),S(" ",t.getProcessingStatusText(d.processingStatus)," ")}}function ct(a,s){if(a&1&&(n(0,"ion-list"),f(1,dt,22,20,"ion-item",15),i()),a&2){let d=h();r(),u("ngForOf",d.receipts)}}function pt(a,s){a&1&&(n(0,"div",26),m(1,"ion-icon",27),n(2,"h3"),l(3,"\uB4F1\uB85D\uB41C \uC601\uC218\uC99D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4"),i(),n(4,"p"),l(5,"\uC774 \uC5EC\uD589 \uAE30\uAC04\uC5D0 \uB4F1\uB85D\uB41C \uC601\uC218\uC99D\uC774 \uC5C6\uC2B5\uB2C8\uB2E4."),i(),n(6,"p"),l(7,"\uC601\uC218\uC99D\uC744 \uCD94\uAC00\uD574\uBCF4\uC138\uC694!"),i()())}var He=(()=>{let s=class s{constructor(t,o,e,p){this.receiptService=t,this.modalController=o,this.toastController=e,this.router=p,this.travelPlan=null,this.receipts=[],this.isLoading=!1,this.hasReceipts=!1,z({calendarOutline:N,timeOutline:ge,locationOutline:me,checkmarkOutline:ue,closeOutline:ne,receiptOutline:We,chevronForwardOutline:Re})}ngOnInit(){this.travelPlan&&this.loadReceiptsForTravelPlan()}loadReceiptsForTravelPlan(){return g(this,null,function*(){if(this.travelPlan){this.isLoading=!0;try{setTimeout(()=>{this.receipts=[{id:"1",imageUrl:"https://example.com/receipt1.jpg",storeName:"\uB3C4\uCFC4 \uC2A4\uC2DC\uB85C",storeLocation:"\uB3C4\uCFC4, \uC2DC\uBD80\uC57C",totalAmountKrw:45e3,totalAmountJpy:5e3,taxAmountJpy:400,discountAmountJpy:0,exchangeRate:9,purchaseDate:new Date("2025-01-16"),processingStatus:"completed",receiptType:"GENERAL",items:[{id:"1",name:"\uC2A4\uC2DC \uC138\uD2B8",priceJpy:3e3,priceKrw:27e3,quantity:1},{id:"2",name:"\uBBF8\uC18C\uAD6D",priceJpy:500,priceKrw:4500,quantity:1},{id:"3",name:"\uCC28",priceJpy:200,priceKrw:1800,quantity:1}],travelPlanId:this.travelPlan?.id},{id:"2",imageUrl:"https://example.com/receipt2.jpg",storeName:"\uB3C4\uCFC4 \uD0C0\uC6CC",storeLocation:"\uB3C4\uCFC4, \uBBF8\uB098\uD1A0",totalAmountKrw:27e3,totalAmountJpy:3e3,taxAmountJpy:240,discountAmountJpy:0,exchangeRate:9,purchaseDate:new Date("2025-01-17"),processingStatus:"completed",receiptType:"GENERAL",items:[{id:"4",name:"\uC804\uB9DD\uB300 \uC785\uC7A5\uAD8C",priceJpy:3e3,priceKrw:27e3,quantity:1}],travelPlanId:this.travelPlan?.id},{id:"3",imageUrl:"https://example.com/receipt3.jpg",storeName:"\uB3C4\uCFC4 \uB3C8\uD0A4\uD638\uD14C",storeLocation:"\uB3C4\uCFC4, \uC2DC\uBD80\uC57C",totalAmountKrw:18e3,totalAmountJpy:2e3,taxAmountJpy:160,discountAmountJpy:0,exchangeRate:9,purchaseDate:new Date("2025-01-18"),processingStatus:"completed",receiptType:"DONKI",items:[{id:"5",name:"\uCD08\uCF5C\uB9BF",priceJpy:800,priceKrw:7200,quantity:2},{id:"6",name:"\uACFC\uC790",priceJpy:400,priceKrw:3600,quantity:1}],travelPlanId:this.travelPlan?.id}],this.hasReceipts=this.receipts.length>0,this.isLoading=!1},1e3)}catch(t){console.error("\uC5EC\uD589 \uACC4\uD68D\uBCC4 \uC601\uC218\uC99D \uC870\uD68C \uC624\uB958:",t),this.isLoading=!1}}})}viewReceipt(t){this.dismiss(),this.router.navigate(["/receipt-detail",t.id])}getProcessingStatusText(t){switch(t){case"pending":return"\uCC98\uB9AC \uC911";case"completed":return"\uC644\uB8CC";case"failed":return"\uC2E4\uD328";default:return"\uC54C \uC218 \uC5C6\uC74C"}}getStatusColor(t){switch(t){case"pending":return"warning";case"completed":return"success";case"failed":return"danger";default:return"medium"}}dismiss(){this.modalController.dismiss()}};s.\u0275fac=function(o){return new(o||s)(_(je),_(F),_(W),_(ae))},s.\u0275cmp=I({type:s,selectors:[["app-receipt-list-modal"]],decls:13,vars:4,consts:[["name","receipt-outline"],["slot","end"],[3,"click"],["name","close"],["class","travel-plan-info",4,"ngIf"],["class","loading-container",4,"ngIf"],[4,"ngIf"],["class","no-receipts",4,"ngIf"],[1,"travel-plan-info"],["name","calendar-outline"],[1,"travel-dates"],["class","travel-budget",4,"ngIf"],[1,"travel-budget"],[1,"loading-container"],["name","crescent"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["slot","start"],[3,"error","src","alt"],[1,"status-overlay"],[3,"name"],["name","time-outline"],["name","location-outline"],[1,"receipt-status"],["size","small",3,"color"],["name","chevron-forward-outline"],[1,"no-receipts"],["name","receipt-outline","size","large"]],template:function(o,e){o&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),m(3,"ion-icon",0),l(4," \uC5EC\uD589 \uAE30\uAC04 \uC601\uC218\uC99D \uBAA9\uB85D "),i(),n(5,"ion-buttons",1)(6,"ion-button",2),C("click",function(){return e.dismiss()}),m(7,"ion-icon",3),i()()()(),n(8,"ion-content"),f(9,lt,11,10,"ion-card",4)(10,st,4,0,"div",5)(11,ct,2,1,"ion-list",6)(12,pt,8,0,"div",7),i()),o&2&&(r(9),u("ngIf",e.travelPlan),r(),u("ngIf",e.isLoading),r(),u("ngIf",!e.isLoading&&e.hasReceipts),r(),u("ngIf",!e.isLoading&&!e.hasReceipts))},dependencies:[T,ie,w,k,L,R,B,le,Q,Oe,A,Te,te,j,E,O,Ee,q,G,Y,U,oe,H],styles:[".travel-plan-info[_ngcontent-%COMP%]{margin:16px;border-radius:12px}.travel-plan-info[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:18px;font-weight:600}.travel-dates[_ngcontent-%COMP%]{font-size:16px;color:var(--ion-color-dark);margin-bottom:8px}.travel-budget[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);margin:0}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;color:var(--ion-color-medium)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--border-radius: 8px;margin-bottom:8px}ion-thumbnail[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;border-radius:8px;overflow:hidden}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.status-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px}.status-overlay.success[_ngcontent-%COMP%]{background:#4caf50cc}.status-overlay.warning[_ngcontent-%COMP%]{background:#ff9800cc}.status-overlay.danger[_ngcontent-%COMP%]{background:#f44336cc}ion-item[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-weight:600;margin-bottom:4px}ion-item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:2px 0;font-size:14px;color:var(--ion-color-medium)}ion-icon[_ngcontent-%COMP%]{margin-right:4px}.receipt-status[_ngcontent-%COMP%]{margin-top:8px}.no-receipts[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--ion-color-medium)}.no-receipts[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:var(--ion-color-medium)}.no-receipts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-dark)}.no-receipts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-medium)}"]});let a=s;return a})();function ut(a,s){if(a&1){let d=J();n(0,"div",18)(1,"ion-chip",19),m(2,"ion-icon",20),n(3,"ion-label"),l(4),i(),n(5,"ion-icon",21),C("click",function(){y(d);let o=h();return b(o.clearTravelPlanSelection())}),i()(),n(6,"p",22),l(7),v(8,"date"),v(9,"date"),i(),n(10,"ion-button",23),C("click",function(){y(d);let o=h();return b(o.openReceiptListModal())}),m(11,"ion-icon",24),l(12," \uC601\uC218\uC99D \uBAA9\uB85D \uBCF4\uAE30 "),i()()}if(a&2){let d=h();r(4),Z(d.selectedTravelPlan.name),r(3),V(" ",P(8,3,d.selectedTravelPlan.startDate,"yyyy.MM.dd")," - ",P(9,6,d.selectedTravelPlan.endDate,"yyyy.MM.dd")," ")}}function mt(a,s){if(a&1){let d=J();n(0,"div",25)(1,"ion-card")(2,"ion-card-header")(3,"ion-card-title"),m(4,"ion-icon",20),l(5," \uC5EC\uD589 \uACC4\uD68D\uC744 \uC120\uD0DD\uD558\uC138\uC694 "),i()(),n(6,"ion-card-content")(7,"p"),l(8,"\uC5EC\uD589 \uACC4\uD68D\uC744 \uC120\uD0DD\uD558\uBA74 \uD574\uB2F9 \uAE30\uAC04\uC758 \uC601\uC218\uC99D\uC744 \uD655\uC778\uD560 \uC218 \uC788\uC2B5\uB2C8\uB2E4."),i(),n(9,"ion-button",23),C("click",function(){y(d);let o=h();return b(o.openTravelPlanSelector())}),m(10,"ion-icon",26),l(11," \uC5EC\uD589 \uACC4\uD68D \uC120\uD0DD "),i()()()()}}var Xt=(()=>{let s=class s{constructor(t,o,e,p,c){this.budgetService=t,this.modalController=o,this.toastController=e,this.actionSheetController=p,this.router=c,this.selectedTravelPlan=null,z({addOutline:pe,cameraOutline:Ae,imagesOutline:Fe,calendarOutline:N})}ngOnInit(){}openTravelPlanSelector(){return g(this,null,function*(){let t=yield this.modalController.create({component:Je});return t.onDidDismiss().then(o=>{o.data&&(this.selectedTravelPlan=o.data,this.showTravelPlanSelectedToast(),this.openReceiptListModal())}),yield t.present()})}openReceiptListModal(){return g(this,null,function*(){return this.selectedTravelPlan?yield(yield this.modalController.create({component:He,componentProps:{travelPlan:this.selectedTravelPlan}})).present():void 0})}clearTravelPlanSelection(){return g(this,null,function*(){this.selectedTravelPlan=null,(yield this.toastController.create({message:"\uC5EC\uD589 \uACC4\uD68D \uC120\uD0DD\uC774 \uD574\uC81C\uB418\uC5C8\uC2B5\uB2C8\uB2E4.",duration:2e3,position:"top",color:"medium"})).present()})}openReceiptUploadOptions(){return g(this,null,function*(){yield(yield this.actionSheetController.create({header:"\uC601\uC218\uC99D \uCD94\uAC00",buttons:[{text:"\uCE74\uBA54\uB77C\uB85C \uCD2C\uC601",icon:"camera-outline",handler:()=>{this.uploadFromCamera()}},{text:"\uAC24\uB7EC\uB9AC\uC5D0\uC11C \uC120\uD0DD",icon:"images-outline",handler:()=>{this.uploadFromGallery()}},{text:"\uCDE8\uC18C",role:"cancel"}]})).present()})}uploadFromCamera(){return g(this,null,function*(){console.log("\uCE74\uBA54\uB77C\uB85C \uCD2C\uC601")})}uploadFromGallery(){return g(this,null,function*(){console.log("\uAC24\uB7EC\uB9AC\uC5D0\uC11C \uC120\uD0DD")})}showTravelPlanSelectedToast(){return g(this,null,function*(){(yield this.toastController.create({message:`'${this.selectedTravelPlan?.name}' \uC5EC\uD589 \uACC4\uD68D\uC774 \uC120\uD0DD\uB418\uC5C8\uC2B5\uB2C8\uB2E4.`,duration:2e3,position:"top",color:"success"})).present()})}};s.\u0275fac=function(o){return new(o||s)(_(X),_(F),_(W),_(Be),_(ae))},s.\u0275cmp=I({type:s,selectors:[["app-receipts"]],decls:31,vars:5,consts:[[3,"translucent"],["slot","end"],[3,"click"],["name","calendar-outline",3,"color"],[3,"fullscreen"],["collapse","condense"],["size","large"],[1,"receipt-container"],[1,"upload-section"],[1,"upload-description"],[1,"upload-hint"],[1,"upload-buttons"],["expand","block","fill","solid",3,"click"],["name","camera-outline","slot","start"],["class","travel-plan-status",4,"ngIf"],["class","no-travel-plan",4,"ngIf"],["vertical","bottom","horizontal","end","slot","fixed"],["name","add"],[1,"travel-plan-status"],["color","primary"],["name","calendar-outline"],["name","close-circle",3,"click"],[1,"travel-plan-dates"],["expand","block","fill","outline",3,"click"],["name","receipt-outline","slot","start"],[1,"no-travel-plan"],["name","calendar-outline","slot","start"]],template:function(o,e){o&1&&(n(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),l(3," \uC601\uC218\uC99D "),i(),n(4,"ion-buttons",1)(5,"ion-button",2),C("click",function(){return e.openTravelPlanSelector()}),m(6,"ion-icon",3),i()()()(),n(7,"ion-content",4)(8,"ion-header",5)(9,"ion-toolbar")(10,"ion-title",6),l(11,"\uC601\uC218\uC99D"),i()()(),n(12,"div",7)(13,"ion-card",8)(14,"ion-card-header")(15,"ion-card-title"),l(16,"\uC601\uC218\uC99D \uCD2C\uC601"),i()(),n(17,"ion-card-content")(18,"p",9),l(19,"\uC77C\uBCF8 \uC601\uC218\uC99D\uC744 \uC790\uB3D9\uC73C\uB85C \uBD84\uC11D\uD569\uB2C8\uB2E4"),i(),n(20,"p",10),l(21,"\uC601\uC218\uC99D\uC744 \uCD2C\uC601\uD558\uAC70\uB098 \uC120\uD0DD\uD558\uC138\uC694"),i(),n(22,"div",11)(23,"ion-button",12),C("click",function(){return e.openReceiptUploadOptions()}),m(24,"ion-icon",13),l(25," \uC601\uC218\uC99D \uCD94\uAC00 "),i()()()(),f(26,ut,13,9,"div",14)(27,mt,12,0,"div",15),i(),n(28,"ion-fab",16)(29,"ion-fab-button",2),C("click",function(){return e.openReceiptUploadOptions()}),m(30,"ion-icon",17),i()()()),o&2&&(u("translucent",!0),r(6),u("color",e.selectedTravelPlan?"primary":""),r(),u("fullscreen",!0),r(19),u("ngIf",e.selectedTravelPlan),r(),u("ngIf",!e.selectedTravelPlan))},dependencies:[T,w,K,k,L,R,B,q,G,Y,U,E,O,j,ye,be,te,A,H],styles:[".receipt-container[_ngcontent-%COMP%]{padding:16px}.upload-section[_ngcontent-%COMP%]{margin-bottom:16px}.upload-description[_ngcontent-%COMP%]{font-size:16px;color:var(--ion-color-dark);margin-bottom:8px}.upload-hint[_ngcontent-%COMP%]{font-size:14px;color:var(--ion-color-medium);margin-bottom:16px}.upload-buttons[_ngcontent-%COMP%]{display:flex;gap:12px}.travel-plan-status[_ngcontent-%COMP%]{margin-bottom:16px;padding:16px;background:var(--ion-color-light);border-radius:12px}.travel-plan-dates[_ngcontent-%COMP%]{margin:8px 0 16px;font-size:14px;color:var(--ion-color-medium)}ion-segment[_ngcontent-%COMP%]{margin-bottom:16px}ion-item[_ngcontent-%COMP%]{--padding-start: 16px;--padding-end: 16px;--border-radius: 8px;margin-bottom:8px}ion-thumbnail[_ngcontent-%COMP%]{position:relative;width:60px;height:60px;border-radius:8px;overflow:hidden}ion-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.status-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;color:#fff;font-size:12px}.status-overlay.success[_ngcontent-%COMP%]{background:#4caf50cc}.status-overlay.warning[_ngcontent-%COMP%]{background:#ff9800cc}.status-overlay.danger[_ngcontent-%COMP%]{background:#f44336cc}.receipt-end-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end;gap:4px}.status-chip[_ngcontent-%COMP%]{font-size:12px}.processing-text[_ngcontent-%COMP%]{color:var(--ion-color-medium);font-style:italic}.no-receipts[_ngcontent-%COMP%]{text-align:center;padding:40px 20px;color:var(--ion-color-medium)}.no-receipts[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;color:var(--ion-color-medium)}.no-receipts[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-dark)}.no-receipts[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:8px;color:var(--ion-color-medium)}.no-travel-plan[_ngcontent-%COMP%]{margin-top:16px}.no-travel-plan[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{text-align:center}.no-travel-plan[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--ion-color-medium);margin-bottom:16px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:40px;color:var(--ion-color-medium)}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:var(--ion-color-medium)}.receipt-status[_ngcontent-%COMP%]{margin-top:8px}ion-refresher[_ngcontent-%COMP%]{z-index:1000}ion-fab[_ngcontent-%COMP%]{margin-bottom:16px}ion-card[_ngcontent-%COMP%]{border-radius:12px;box-shadow:0 2px 8px #0000001a}ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;display:flex;align-items:center;gap:8px}ion-card-content[_ngcontent-%COMP%]{padding-top:0}"]});let a=s;return a})();export{Xt as ReceiptsPage};
